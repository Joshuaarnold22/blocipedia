<!DOCTYPE html>
<html>
    <head>
      <title>Blocipedia</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <%= stylesheet_link_tag "application", media: "all" %>
      <%= javascript_include_tag "application" %>
      <%= csrf_meta_tags %>
    </head>
    <body>
      <div class="container">
        <div class="header clearfix">
          <nav>
            <h3 class="text-muted pull-left">Blocipedia</h3>
            <ul class="nav nav-pills pull-right hidden-xs">
              <li role="presentation" class="active"><%= link_to "Home", root_path %></li>
              <li class="test">
                <% if current_user %> Hello <%= current_user.email %></li>
                    <% if current_user.role == "premium" %>
                      <li><%= link_to "Downgrade Account", charge_path(current_user), class: "btn btn-danger", method: :patch %></li>
                    <% else %>
                      <li><%= link_to "Upgrade", new_charge_path %></li>
                    <% end %>
                  <li><%= link_to "Sign out", destroy_user_session_path, method: :delete %></li>
                <% else %>
                  <li><%= link_to "Sign In", new_user_session_path %></li>
                  <li><%= link_to "Sign Up", new_user_registration_path %></li>
                <% end %>
            </ul>
            <div class="dropdown hamberger-nav pull-right visible-xs">
              <button class="btn btn-default dropdown-toggle glyphicon glyphicon-menu-hamburger" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"></button>
              <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                <li><%= link_to "Home", root_path %></li>
                <li><%= link_to "Upgrade", new_charge_path %></li>
                <li><%= link_to "Sign In", new_user_session_path %></li>
                <li><%= link_to "Sign Up", new_user_registration_path %></li>
              </ul>
            </div>
          </nav>
         </div>
       </div>
     <% if flash[:notice] %>
      <div class="alert alert-success">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        <%= flash[:notice] %>
      </div>
    <% elsif flash[:error] %>
      <div class="alert alert-danger">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        <%= flash[:error] %>
      </div>
    <% elsif flash[:alert] %>
      <div class="alert alert-warning">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        <%= flash[:alert] %>
      </div>
    <% end %>
    <div class="container">
      <%= yield %>
    </div>
  </body>
</html>
